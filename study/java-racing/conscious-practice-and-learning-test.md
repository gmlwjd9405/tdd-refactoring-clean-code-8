# 의식적인 연습과 학습 테스트
## 어떻게 연습할 것인가? - 의식적인 연습
#### TDD, 리팩토링을 잘 하려면…
- 연습, 연습, 연습 
- Q. 무조건 연습을 많이 한다고 잘할 수 있을까?
  - A. TDD, 리팩토링과 관련해 5,6년을 도전한 후에야
  - 테스트하기 쉬운 코드와 테스트하기 어려운 코드를 보는 눈
  - 테스트하기 어려운 코드를 테스트하기 쉬운 코드로 설계하는 감(sense)
- TDD, 리팩토링. 멋져보인다. 하지만 생각만큼 쉽게 연습할 수 있는 녀석이 아니다.

#### 의식적인 연습의 7가지 원칙 
- [1만 시간의 재발견 - 노력은 왜 우리를 배신하는가](http://www.yes24.com/Product/Goods/29135134)
  - 아마추어와 프로의 결정적 차이: **목적의식 있는 연습**에 얼마나 많은 시간을 투자했느냐?
- 의식적인 연습의 7가지 원칙
  - 첫째, 효과적인 훈련 기법이 수립되어 있는 기술 연마
  - 둘째, 개인의 컴포트 존(편한 상태)을 벗어난 지점에서 진행, 자신의 현재 능력을 살짝 넘어가는 작업을 지속적으로 시도
  - 셋째, 명확하고 구체적인 목표를 가지고 진행
  - 넷째, 신중하고 계획적이다. 즉, 개인이 온전히 집중하고 '의식적'으로 행동할 것을 요구
  - 다섯째, **피드백**과 피드백에 따른 행동 변경을 수반
  - 여섯째, 효과적인 심적 표상을 만들어내는 한편으로 심적 표상에 의존
  - 일곱째, 기존에 습득한 기술의 특정 부분을 집중적으로 개선함으로써 발전시키고, 수정하는 과정을 수반
- **의식적인 연습으로 효과적으로 연습하자!**
  - 프로그래밍 요구사항
    - indent(인덴트, 들여쓰기) depth를 2를 넘지 않도록 구현한다. 1까지만 허용한다.
      - 예를 들어 while문 안에 if문이 있으면 들여쓰기는 2이다.
      - 힌트: indent(인덴트, 들여쓰기) depth를 줄이는 좋은 방법은 함수(또는 메소드)를 분리하면 된다.
    - 함수(또는 메소드)의 길이가 15라인을 넘어가지 않도록 구현한다.
      - 함수(또는 메소드)가 한 가지 일만 잘 하도록 구현한다.
      - 모든 로직에 단위 테스트를 구현한다. 단, UI(System.out, System.in) 로직은 제외
    - 핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 구분한다.
      - UI 로직을 InputView, ResultView와 같은 클래스를 추가해 분리한다.
    - 자바 코드 컨벤션을 지키면서 프로그래밍한다.
      - 참고문서: https://google.github.io/styleguide/javaguide.html 또는 https://myeonguni.tistory.com/1596
    - else 예약어를 쓰지 않는다.
      - 힌트: if 조건절에서 값을 return하는 방식으로 구현하면 else를 사용하지 않아도 된다.
      - else를 쓰지 말라고 하니 switch/case로 구현하는 경우가 있는데 switch/case도 허용하지 않는다.

---
## 의식적인 연습으로 TDD, 리팩토링 적용
- **TDD, 리팩토링 == 운동**
  - 평생동안 연습하겠다는 마음가짐으로 시작

#### 0단계 - 시작하기 
- 환경을 바꿔 연습할 시간 확보
  - 퇴근 후 카페로 출근한다.
  - 5주 동안 TV를 창고에 처박아둔다. 리모콘을 버린 후 5주 후에 다시 산다.
  - 집에 도착하면 스마트폰을 꺼놓는다.
  - 미션을 진행할 때 와이파이 연결을 끊는다.
- 장난감 프로젝트 찾기
  - 주변 환경에 영향을 받지 않고 꾸준히 연습하기 위함
    - 다양한 삽질, 꾸준히 할 수 있다.
    - 새로운 연습을 내 것으로 만들 때 회사의 업무로 적용하지 않기
  - 자동차 경주 게임, 로또, 사다리 타기, 볼링 게임 점수판

#### 1단계 - 학습 테스트 
- 학습 테스트에서 시작
  - 내가 사용하는 API 사용법을 익히기 위한 학습 테스트에서 시작
    - 자바 String 클래스의 다양한 메소드(함수) 사용법
    - 자바 ArrayList에 데이터를 추가, 수정, 삭제하는 방법
- 학습 효과
  - 단위 테스트 방법을 학습할 수 있다.
  - 단위 테스트 도구(xUnit)의 사용법을 익힐 수 있다.
  - 사용하는 API에 대한 학습 효과가 있다.

#### 2단계 - 단위 테스트 
- **단위테스트 != TDD**
- 단위 테스트 연습
  - 내가 구현하는 메소드(함수) 중 Input과 Output이 명확한 클래스 메소드(보통 Util 성격의 메소드)에 대한 단위 테스트 연습
  - 테스트 가능한 부분과 테스트하기 힘든 부분을 분리해 테스트 가능한 부분에 대해서만 단위 테스트를 진행한다.
- 알고리즘을 학습한다면 알고리즘 구현에 대한 검증을 단위 테스트로 한다.
  - 알고리즘은 Input, Output이 명확하기 때문에 연습하기 좋다.

#### 3단계 - TDD (Test Driven Development(테스트 주도 개발, TDD))
- 용어 정리
  - **프로덕션 코드(Production Code)**
    - : 프로그램 구현을 담당하는 부분으로 사용자가 실제로 사용하는 소스 코드를 의미한다.
  - **테스트 코드(test code)**
    - : 프로덕션 코드가 정상적으로 동작하는지를 확인하는 코드이다.
- TDD란?
  - TDD = TFD(Test First Development) + 리팩토링
    - TDD 사이클의 핵심은 리팩토링이다.
    - 프로덕션 코드(테스트 케이스)를 추가할 때마다 리팩토링(= 설계)을 해야 한다.
  - TDD란 
    - > 프로그래밍 의사결정과 피드백 사이의 간극을 의식하고 이를 제어하는 기술이다. *By 켄트벡, Test Driven Development by Example 중*
    - > TDD의 아이러니 중 하나는 테스트 기술이 아니라는 점이다. TDD는 **분석 기술이며, 설계 기술**이기도 하다. *By 켄트벡, Test Driven Development by Example 중*
  - TDD를 하는 이유
    - 디버깅 시간을 줄여준다.
    - 동작하는 문서 역할을 한다.
    - 변화에 대한 두려움을 줄여준다.
  - TDD 사이클 : test fails -> test passes -> refactor 
    1. 실패하는 테스트를 구현한다.
    2. 테스트가 성공하도록 프로덕션 코드를 구현한다.
    3. 프로덕션 코드와 테스트 코드를 리팩토링한다.
  - TDD 원칙
    1. 원칙 1 - 실패하는 단위 테스트를 작성할 때까지 프로덕션 코드(production code)를 작성하지 않는다.
    2. 원칙 2 - 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
    3. 원칙 3 - 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.